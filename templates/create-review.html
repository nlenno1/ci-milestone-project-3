{% extends "base.html" %}
{% block content %}

    <h1 id="header-title">Add Review</h1>

    <div class="container-md text-center">
        <h3 class="mt-5">Write a Review for any Movie that has a profile</h3>
        <h5>Type into the Movie Title box to search for the movie you want<br>If the movie you want is not in the dropdown menu then it doesn't have a profile yet!</h5>
        <form method="POST" action="{{ url_for('create_review') }}">
            <div id="add-review" class="card form-card card-large generic-form input-large shadow">
                {% if selected_movie_title == None %}   
                    <input type="list" name=selected-movie-title list="movie-titles" placeholder="Movie Title">
                    <datalist id="movie-titles">
                        {% for movie in movie_title_list %}
                            {% if selected_movie_title == movie.movie_title  %}
                            <option value="{{ movie.movie_title|title }}" selected></option>
                            {% else %}
                            <option value="{{ movie.movie_title|title }}"></option>
                            {% endif %}
                        {% endfor %}
                    </datalist>
                {% else %}
                    <input type="text" name="selected-movie-title" id="movie-title" value="{{ selected_movie_title|title }}" readonly>
                {% endif %}
                <input type="text" name="review-title" id="review-title" placeholder="Review Title" pattern="^[a-zA-Z0-9 \p{P}]+$">
                <textarea name="movie-review" id="movie-review" rows ="8" cols="100" placeholder="Movie Review"></textarea>
                <div class="star-rating-container">
                    <input type="hidden" name="star-count" id="star-count" value="0">
                    <span>Click the stars to choose your Star Rating: </span>
                    <span class="star_container">
                        <i id="1" class="fas fa-star"></i>
                        <i id="2" class="fas fa-star"></i>
                        <i id="3" class="fas fa-star"></i>
                        <i id="4" class="fas fa-star"></i>
                        <i id="5" class="fas fa-star"></i>
                    </span>
                </div>
                <div class="buttons-container mt-4 mb-2">
                    <button type="submit" class="generic-button button-color-gold mt-2">Create Review</a></button>
                    <button class="generic-button mt-2"><a href="{{ url_for('home') }}">Cancel</a></button>
                </div>
            </div>
        </form>
        {% if selected_movie_title == None %}
            <div class="mb-5">
                <span>If you can't find the Movie you want to review then make its profile page</span>
                <button type="submit" class="generic-button button-color-gold"><a href="{{ url_for('create_movie') }}">Create Movie</a></button>
            </div>
        {% endif %}
    </div>


{% endblock %}
